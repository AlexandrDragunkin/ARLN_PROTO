//-- Создание окна №2global WindPath, TextLib;global ProtoPath;ProtoPath=GetProtoMac("Shkaf.ptl");   //-- Путь к папке с макропрограммами общей библиотеке прототиповWindPath=getprotomac("Windows.ptl");  //-- Путь к папке с прототипамиTextLib="Lb.room3_iml.#";             //-- Имя библиотеки текстур//------------------------------------------------------------------------------Height=DbVar("Height",1200);	    //-- Высота окнаWidth=DbVar("Width",1200);		    //-- Ширина окнаThick=DbVar("Thickness",300);     //-- Толщина стеныCBWidth=DbVar("CBeamWidth",75);   //-- Ширина перекладиныCBThick=DbVar("CBeamThick",35);   //-- Толщина перекладиныdoorcolor=DbVar("Windcolor",13);  //-- Цвет рамыCol_Glass=DbVar("glasscolor",9);  //-- Цвет стеклаPicColor=DbVar("PicColor",72);    //-- Рисунок за окномHideFlag=DbVar("Flag3D",1);       //-- Отображение 3Dsill=DbVar("Sill",1);             //-- Есть подоконник или нетsdept=DbVar("S_Dept",400);        //-- Глубина подоконникаd=DbVar("d",100);                 //-- Боковой выпуск подоконникаsheight=DbVar("S_Thick",20);      //-- Толщина подоконника//------------------------------------------------------------------------------ТолОтк=10;                        //-- Толщина отделки откоса//-- Толщина габаритного паралеллепипедаBoxThick=3;if (HideFlag==0){  goto  D2Draw;}//------------------------------------------------------------------------------//-- Паралеллепипедпо габаритам проёмаmacro ProtoPath+"wnd_box_base.mac" Height, Width, -Thick, BoxThick doorcolor;//-- Фрагмент рамыmacro ProtoPath+"wnd_frame_base.mac" Height, Width, CBWidth, CBThick, BoxThick  doorcolor Col_Glass;//-- Установка фрагмента рамы в параллелепипедmove last 1 done 0 0.5*(Thick+CBThick) 0 nocopy;//-- Стеклоmacro WindPath+"WDGlass.mac" Width-CBWidth*2, Height-CBWidth*2, 3, Col_Glass, PicColor HideFlag;move last 1 done CBWidth 0.5*(Thick) CBWidth nocopy;if (sill==1)         //-- Если нужен подоконник{  macro WindPath+"WDObnal.mac" Width height Thick ТолОтк sdept sheight doorcolor HideFlag d 20;}group all done;exit;//------------------------------------------------------------------------------D2Draw:defarr p1[3], p2[3], p3[3];p1[1]=0;p1[2]=0;p1[3]=0;p2[1]=Width;p2[2]=0;p2[3]=0;p3[1]=Width;p3[2]=CBThick;p3[3]=0;macro ProtoPath+"WDDRHatch.mac" p1 p2 p3 1;move last 1 done 0 0.5*(Thick-CBThick) 0 nocopy;group all done;exit;